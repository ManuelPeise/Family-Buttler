{"ast":null,"code":"var _jsxFileName = \"D:\\\\Development\\\\WorkFolder\\\\FamilyButtler\\\\Family-Buttler\\\\Web-App\\\\web-app\\\\src\\\\_pages\\\\_landingpage\\\\landingPageDataService.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport useApi from '../../_hooks/useApi';\nimport LandingPage from './LandingPage';\nimport apiConfig from '../../_config/apiConfig.json';\nimport useLocalStorage from '../../_hooks/useLocalStorage';\nimport { LocalStorageKeyEnum } from '../../_enums/localStorageKeyEnum';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LandingPageDataService = () => {\n  _s();\n\n  const localStorageService = useLocalStorage();\n  const [buttlerConfig, setButtlerConfig] = React.useState(localStorageService.getItem(LocalStorageKeyEnum.buttlerConfiguration));\n  const setButtlerConfiguration = React.useCallback(config => {\n    localStorageService.setItem(LocalStorageKeyEnum.buttlerConfiguration, JSON.stringify(config));\n    setButtlerConfig(config);\n  }, [localStorageService, setButtlerConfig]);\n  const valuesUrlPrefix = React.useMemo(() => {\n    var _buttlerConfig$langua;\n\n    return `landingpage_landingpage${(_buttlerConfig$langua = buttlerConfig.language) !== null && _buttlerConfig$langua !== void 0 ? _buttlerConfig$langua : 'En'}`;\n  }, [buttlerConfig]);\n  const valueDataService = useApi({\n    serviceUri: apiConfig.baseUrl + apiConfig.i18nController + valuesUrlPrefix,\n    params: null\n  });\n  React.useEffect(() => {\n    var _buttlerConfig$langua2;\n\n    valueDataService.get({\n      serviceUri: apiConfig.baseUrl + apiConfig.i18nController + `landingpage_landingpage${(_buttlerConfig$langua2 = buttlerConfig.language) !== null && _buttlerConfig$langua2 !== void 0 ? _buttlerConfig$langua2 : 'En'}`,\n      params: null\n    });\n  }, [valueDataService, buttlerConfig]);\n\n  if (valueDataService.items[0] === null || valueDataService.items[0] === undefined) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(LandingPage, {\n    values: valueDataService.items[0],\n    buttlerConfig: buttlerConfig,\n    setButtlerConfiguration: setButtlerConfiguration\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LandingPageDataService, \"mL3yuiSGRuaO3hJfqgjFClgYzJE=\", false, function () {\n  return [useLocalStorage, useApi];\n});\n\n_c = LandingPageDataService;\nexport default LandingPageDataService;\n\nvar _c;\n\n$RefreshReg$(_c, \"LandingPageDataService\");","map":{"version":3,"sources":["D:/Development/WorkFolder/FamilyButtler/Family-Buttler/Web-App/web-app/src/_pages/_landingpage/landingPageDataService.tsx"],"names":["React","useApi","LandingPage","apiConfig","useLocalStorage","LocalStorageKeyEnum","LandingPageDataService","localStorageService","buttlerConfig","setButtlerConfig","useState","getItem","buttlerConfiguration","setButtlerConfiguration","useCallback","config","setItem","JSON","stringify","valuesUrlPrefix","useMemo","language","valueDataService","serviceUri","baseUrl","i18nController","params","useEffect","get","items","undefined"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AAEA,SAASC,mBAAT,QAAoC,kCAApC;;;AAEA,MAAMC,sBAAgC,GAAG,MAAM;AAAA;;AAE3C,QAAMC,mBAAmB,GAAGH,eAAe,EAA3C;AAEA,QAAM,CAACI,aAAD,EAAgBC,gBAAhB,IAAoCT,KAAK,CAACU,QAAN,CAAsCH,mBAAmB,CAACI,OAApB,CAA4BN,mBAAmB,CAACO,oBAAhD,CAAtC,CAA1C;AAEA,QAAMC,uBAAuB,GAAGb,KAAK,CAACc,WAAN,CAAmBC,MAAD,IAAkC;AAChFR,IAAAA,mBAAmB,CAACS,OAApB,CAA4BX,mBAAmB,CAACO,oBAAhD,EAAsEK,IAAI,CAACC,SAAL,CAAeH,MAAf,CAAtE;AACAN,IAAAA,gBAAgB,CAACM,MAAD,CAAhB;AACH,GAH+B,EAG9B,CAACR,mBAAD,EAAsBE,gBAAtB,CAH8B,CAAhC;AAKA,QAAMU,eAAe,GAAGnB,KAAK,CAACoB,OAAN,CAAc,MAAK;AAAA;;AACvC,WAAQ,0BAAD,yBAA0BZ,aAAa,CAACa,QAAxC,yEAAmD,IAAK,EAA/D;AACH,GAFuB,EAEtB,CAACb,aAAD,CAFsB,CAAxB;AAIA,QAAMc,gBAAgB,GAAGrB,MAAM,CAAqB;AAChDsB,IAAAA,UAAU,EAAEpB,SAAS,CAACqB,OAAV,GAAoBrB,SAAS,CAACsB,cAA9B,GAA+CN,eADX;AAC4BO,IAAAA,MAAM,EAAE;AADpC,GAArB,CAA/B;AAGA1B,EAAAA,KAAK,CAAC2B,SAAN,CAAgB,MAAK;AAAA;;AACjBL,IAAAA,gBAAgB,CAACM,GAAjB,CAAqB;AACjBL,MAAAA,UAAU,EAAEpB,SAAS,CAACqB,OAAV,GAAoBrB,SAAS,CAACsB,cAA9B,GAAgD,0BAAD,0BAA0BjB,aAAa,CAACa,QAAxC,2EAAmD,IAAK,EADlG;AACqGK,MAAAA,MAAM,EAAE;AAD7G,KAArB;AAEH,GAHD,EAGE,CAACJ,gBAAD,EAAmBd,aAAnB,CAHF;;AAMA,MAAGc,gBAAgB,CAACO,KAAjB,CAAuB,CAAvB,MAA8B,IAA9B,IAAsCP,gBAAgB,CAACO,KAAjB,CAAuB,CAAvB,MAA8BC,SAAvE,EAAiF;AAC7E,WAAO,IAAP;AACH;;AAED,sBACI,QAAC,WAAD;AACI,IAAA,MAAM,EAAER,gBAAgB,CAACO,KAAjB,CAAuB,CAAvB,CADZ;AAEI,IAAA,aAAa,EAAErB,aAFnB;AAGI,IAAA,uBAAuB,EAAEK;AAH7B;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CAnCD;;GAAMP,sB;UAE0BF,e,EAaHH,M;;;KAfvBK,sB;AAqCN,eAAeA,sBAAf","sourcesContent":["import React from 'react'\r\nimport useApi from '../../_hooks/useApi'\r\nimport { ILandingpageValues } from '../../_interfaces/ILandingpageValues'\r\nimport LandingPage from './LandingPage'\r\nimport apiConfig from '../../_config/apiConfig.json'\r\nimport useLocalStorage from '../../_hooks/useLocalStorage'\r\nimport { IButtlerConfiguration } from '../../_interfaces/IButtlerConfiguration'\r\nimport { LocalStorageKeyEnum } from '../../_enums/localStorageKeyEnum'\r\n\r\nconst LandingPageDataService: React.FC = () => {\r\n\r\n    const localStorageService = useLocalStorage<IButtlerConfiguration>();\r\n\r\n    const [buttlerConfig, setButtlerConfig] = React.useState<IButtlerConfiguration>(localStorageService.getItem(LocalStorageKeyEnum.buttlerConfiguration))\r\n    \r\n    const setButtlerConfiguration = React.useCallback((config: IButtlerConfiguration) =>{\r\n        localStorageService.setItem(LocalStorageKeyEnum.buttlerConfiguration, JSON.stringify(config))\r\n        setButtlerConfig(config)\r\n    },[localStorageService, setButtlerConfig])\r\n\r\n    const valuesUrlPrefix = React.useMemo(() =>{\r\n        return `landingpage_landingpage${buttlerConfig.language?? 'En'}`\r\n    },[buttlerConfig])\r\n\r\n    const valueDataService = useApi<ILandingpageValues>({\r\n        serviceUri: apiConfig.baseUrl + apiConfig.i18nController + valuesUrlPrefix, params: null})\r\n\r\n    React.useEffect(() =>{\r\n        valueDataService.get({\r\n            serviceUri: apiConfig.baseUrl + apiConfig.i18nController + `landingpage_landingpage${buttlerConfig.language?? 'En'}`, params: null})\r\n    },[valueDataService, buttlerConfig])\r\n   \r\n\r\n    if(valueDataService.items[0] === null || valueDataService.items[0] === undefined){\r\n        return null\r\n    }\r\n    \r\n    return(\r\n        <LandingPage \r\n            values={valueDataService.items[0]}\r\n            buttlerConfig={buttlerConfig}\r\n            setButtlerConfiguration={setButtlerConfiguration}\r\n            />\r\n    )\r\n}\r\n\r\nexport default LandingPageDataService"]},"metadata":{},"sourceType":"module"}