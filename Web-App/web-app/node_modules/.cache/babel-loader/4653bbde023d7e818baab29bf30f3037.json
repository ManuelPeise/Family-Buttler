{"ast":null,"code":"import _slicedToArray from\"D:\\\\Development\\\\WorkFolder\\\\FamilyButtler\\\\Family-Buttler\\\\Web-App\\\\web-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{Grid,Paper}from'@material-ui/core';import React from'react';import MenuFilter from'./MenuFilter';import MenuContainer from'./MenuContainer';import{MenuTypeEnum}from'../../_enums/menuEnums';import{useDispatch}from'react-redux';import{SetMenu,SetOriginalMenu,SetPageTitle}from'../../_redux/_appStateStore/appStoreAccessor';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MenuLayout=function MenuLayout(props){var layoutConfig=props.layoutConfig,menuCollection=props.menuCollection,values=props.values,handleSave=props.handleSave;var dispatch=useDispatch();if(layoutConfig.componentKey==='add'){dispatch(SetPageTitle(values.pageTitleAdd));}if(layoutConfig.componentKey==='edit'){dispatch(SetPageTitle(values.pageTitleEdit));}if(layoutConfig.componentKey==='view'){dispatch(SetPageTitle(values.pageTitleView));}var _React$useState=React.useState(MenuTypeEnum.None),_React$useState2=_slicedToArray(_React$useState,2),menuType=_React$useState2[0],setMenuType=_React$useState2[1];var handleMenuSelect=React.useCallback(function(id){var _menuCollection$find,_menuCollection$find2;if(id!==null)dispatch(SetMenu((_menuCollection$find=menuCollection===null||menuCollection===void 0?void 0:menuCollection.find(function(menu){return menu.id===id;}))!==null&&_menuCollection$find!==void 0?_menuCollection$find:{}));dispatch(SetOriginalMenu((_menuCollection$find2=menuCollection===null||menuCollection===void 0?void 0:menuCollection.find(function(menu){return menu.id===id;}))!==null&&_menuCollection$find2!==void 0?_menuCollection$find2:{}));},[menuCollection,dispatch]);var onMenuTypeChange=React.useCallback(function(menuType){setMenuType(menuType);},[setMenuType]);var filteredMenus=React.useMemo(function(){if(menuType===MenuTypeEnum.None){return menuCollection;}return menuCollection.filter(function(menu){return menu.menuType===menuType;});},[menuType,menuCollection]);var filterItems=React.useMemo(function(){return filteredMenus.map(function(item){return{id:item.id,label:item.name};});},[filteredMenus]);dispatch(SetMenu({}));return/*#__PURE__*/_jsxs(Grid,{container:true,style:{overflow:'auto'},direction:\"row\",justifyContent:\"center\",alignContent:\"center\",children:[layoutConfig.hasFilter&&/*#__PURE__*/_jsx(Grid,{style:{marginTop:'1.5vh'},item:true,xs:11,xl:11,children:/*#__PURE__*/_jsx(Paper,{style:{backgroundColor:'#f2f2ed'},children:/*#__PURE__*/_jsx(MenuFilter,{items:filterItems,selectedMenuType:menuType,values:values,onMenuSelect:handleMenuSelect,onMenuTypeChange:onMenuTypeChange})})}),/*#__PURE__*/_jsx(Grid,{style:{marginTop:'1.5vh'},item:true,xs:11,xl:11,children:/*#__PURE__*/_jsx(Paper,{style:{display:'flex',justifyContent:'center',padding:'1vw'},children:/*#__PURE__*/_jsx(MenuContainer,{values:values,config:layoutConfig,menuCollection:filteredMenus,handleSave:handleSave})})})]});};export default MenuLayout;","map":{"version":3,"sources":["D:/Development/WorkFolder/FamilyButtler/Family-Buttler/Web-App/web-app/src/_pages/_cookingBook/MenuLayout.tsx"],"names":["Grid","Paper","React","MenuFilter","MenuContainer","MenuTypeEnum","useDispatch","SetMenu","SetOriginalMenu","SetPageTitle","MenuLayout","props","layoutConfig","menuCollection","values","handleSave","dispatch","componentKey","pageTitleAdd","pageTitleEdit","pageTitleView","useState","None","menuType","setMenuType","handleMenuSelect","useCallback","id","find","menu","onMenuTypeChange","filteredMenus","useMemo","filter","filterItems","map","item","label","name","overflow","hasFilter","marginTop","backgroundColor","display","justifyContent","padding"],"mappings":"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","sourcesContent":["import {  Grid, Paper } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { IMenu } from '../../_interfaces/IMenu'\r\nimport { IMenuLayoutConfig } from './interfaces/IMenueLayoutConfig'\r\nimport MenuFilter from './MenuFilter'\r\nimport MenuContainer from './MenuContainer'\r\nimport { IAutocompleteItem } from '../../_interfaces/IAutocompleteItem'\r\nimport { MenuTypeEnum } from '../../_enums/menuEnums'\r\nimport { ICookingBookValues } from '../../_interfaces/ICookingBookValues'\r\nimport { useDispatch } from 'react-redux'\r\nimport { SetMenu, SetOriginalMenu, SetPageTitle } from '../../_redux/_appStateStore/appStoreAccessor'\r\n\r\n\r\ninterface IProps{\r\n   layoutConfig: IMenuLayoutConfig\r\n   menuCollection: IMenu[]\r\n   values: ICookingBookValues\r\n   handleSave:(menu: IMenu) => Promise<void>\r\n}\r\n\r\nconst MenuLayout: React.FC<IProps> = (props) => {\r\n\r\n    const {layoutConfig, menuCollection, values, handleSave} = props\r\n    const dispatch = useDispatch();\r\n\r\n    if(layoutConfig.componentKey === 'add'){\r\n        dispatch(SetPageTitle(values.pageTitleAdd))\r\n    }\r\n\r\n    if(layoutConfig.componentKey === 'edit'){\r\n        dispatch(SetPageTitle(values.pageTitleEdit))\r\n    }\r\n\r\n    if(layoutConfig.componentKey === 'view'){\r\n        dispatch(SetPageTitle(values.pageTitleView))\r\n    }\r\n\r\n    const [menuType, setMenuType] = React.useState<number>(MenuTypeEnum.None)\r\n\r\n    const handleMenuSelect = React.useCallback((id: number | null) =>{\r\n        if(id !== null)\r\n        dispatch(SetMenu(menuCollection?.find(menu => menu.id === id) ?? {} as IMenu))\r\n        dispatch(SetOriginalMenu(menuCollection?.find(menu => menu.id === id) ?? {} as IMenu))\r\n    },[menuCollection, dispatch])\r\n\r\n    const onMenuTypeChange = React.useCallback((menuType: number) =>{\r\n        setMenuType(menuType)\r\n    }, [setMenuType])\r\n\r\n    const filteredMenus = React.useMemo(() =>{\r\n\r\n        if(menuType === MenuTypeEnum.None){\r\n            return menuCollection\r\n        }\r\n\r\n        return menuCollection.filter(menu => menu.menuType === menuType)\r\n    },[menuType, menuCollection])\r\n\r\n    const filterItems = React.useMemo((): IAutocompleteItem[] =>{\r\n       \r\n        return filteredMenus.map((item) =>{\r\n            return(\r\n                {id: item.id, label: item.name}\r\n            )\r\n        })\r\n            \r\n    },[filteredMenus])\r\n\r\n    dispatch(SetMenu({} as IMenu))\r\n    \r\n    return(\r\n            <Grid\r\n                container\r\n                style={{overflow: 'auto'}}\r\n                direction='row'\r\n                justifyContent='center'\r\n                alignContent='center'>\r\n                    {layoutConfig.hasFilter && (\r\n                    <Grid\r\n                        style={{marginTop: '1.5vh'}}\r\n                        item\r\n                        xs={11}\r\n                        xl={11}>\r\n                        <Paper style={{backgroundColor: '#f2f2ed'}}>\r\n                            <MenuFilter\r\n                                items={filterItems}\r\n                                selectedMenuType={menuType}\r\n                                values={values}\r\n                                onMenuSelect={handleMenuSelect}\r\n                                onMenuTypeChange={onMenuTypeChange}/>\r\n                        </Paper>\r\n                    </Grid>\r\n                    )}\r\n                    <Grid\r\n                        style={{marginTop: '1.5vh'}}\r\n                        item\r\n                        xs={11}\r\n                        xl={11}>\r\n                        <Paper style={{display:'flex', justifyContent:'center', padding:'1vw'}}>\r\n                            <MenuContainer \r\n                                values={values}\r\n                                config={layoutConfig}\r\n                                menuCollection={filteredMenus}\r\n                                handleSave={handleSave}/>\r\n                        </Paper>\r\n                    </Grid>\r\n            </Grid>\r\n    )\r\n}\r\n\r\nexport default MenuLayout\r\n"]},"metadata":{},"sourceType":"module"}