{"ast":null,"code":"import _slicedToArray from\"D:\\\\Development\\\\WorkFolder\\\\FamilyButtler\\\\Family-Buttler\\\\Web-App\\\\web-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React from'react';import useApi from'../../_hooks/useApi';import LandingPage from'./LandingPage';import apiConfig from'../../_config/apiConfig.json';import useLocalStorage from'../../_hooks/useLocalStorage';import{LocalStorageKeyEnum}from'../../_enums/localStorageKeyEnum';import{jsx as _jsx}from\"react/jsx-runtime\";var LandingPageDataService=function LandingPageDataService(){var localStorageService=useLocalStorage();var _React$useState=React.useState(localStorageService.getItem(LocalStorageKeyEnum.buttlerConfiguration)),_React$useState2=_slicedToArray(_React$useState,2),buttlerConfig=_React$useState2[0],setButtlerConfig=_React$useState2[1];var valuesUrlPrefix=React.useMemo(function(){var _buttlerConfig$langua;return\"landingpage_landingpage\".concat((_buttlerConfig$langua=buttlerConfig.language)!==null&&_buttlerConfig$langua!==void 0?_buttlerConfig$langua:'En');},[buttlerConfig]);var valueDataService=useApi({serviceUri:apiConfig.baseUrl+apiConfig.i18nController+valuesUrlPrefix,params:null});var setButtlerConfiguration=React.useCallback(function(config){localStorageService.setItem(LocalStorageKeyEnum.buttlerConfiguration,JSON.stringify(config));window.location.href='/';setButtlerConfig(config);},[localStorageService,setButtlerConfig]);if(valueDataService.items[0]===null||valueDataService.items[0]===undefined){return null;}return/*#__PURE__*/_jsx(LandingPage,{values:valueDataService.items[0],buttlerConfig:buttlerConfig,setButtlerConfiguration:setButtlerConfiguration});};export default LandingPageDataService;","map":{"version":3,"sources":["D:/Development/WorkFolder/FamilyButtler/Family-Buttler/Web-App/web-app/src/_pages/_landingpage/landingPageDataService.tsx"],"names":["React","useApi","LandingPage","apiConfig","useLocalStorage","LocalStorageKeyEnum","LandingPageDataService","localStorageService","useState","getItem","buttlerConfiguration","buttlerConfig","setButtlerConfig","valuesUrlPrefix","useMemo","language","valueDataService","serviceUri","baseUrl","i18nController","params","setButtlerConfiguration","useCallback","config","setItem","JSON","stringify","window","location","href","items","undefined"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CAEA,OAASC,mBAAT,KAAoC,kCAApC,C,2CAEA,GAAMC,CAAAA,sBAAgC,CAAG,QAAnCA,CAAAA,sBAAmC,EAAM,CAE3C,GAAMC,CAAAA,mBAAmB,CAAGH,eAAe,EAA3C,CAEA,oBAA0CJ,KAAK,CAACQ,QAAN,CAAsCD,mBAAmB,CAACE,OAApB,CAA4BJ,mBAAmB,CAACK,oBAAhD,CAAtC,CAA1C,oDAAOC,aAAP,qBAAsBC,gBAAtB,qBAEA,GAAMC,CAAAA,eAAe,CAAGb,KAAK,CAACc,OAAN,CAAc,UAAK,2BACvC,8DAAiCH,aAAa,CAACI,QAA/C,+DAA0D,IAA1D,EACH,CAFuB,CAEtB,CAACJ,aAAD,CAFsB,CAAxB,CAIA,GAAMK,CAAAA,gBAAgB,CAAGf,MAAM,CAAqB,CAChDgB,UAAU,CAAEd,SAAS,CAACe,OAAV,CAAoBf,SAAS,CAACgB,cAA9B,CAA+CN,eADX,CAC4BO,MAAM,CAAE,IADpC,CAArB,CAA/B,CAGA,GAAMC,CAAAA,uBAAuB,CAAGrB,KAAK,CAACsB,WAAN,CAAkB,SAACC,MAAD,CAAkC,CAChFhB,mBAAmB,CAACiB,OAApB,CAA4BnB,mBAAmB,CAACK,oBAAhD,CAAsEe,IAAI,CAACC,SAAL,CAAeH,MAAf,CAAtE,EACAI,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACAjB,gBAAgB,CAACW,MAAD,CAAhB,CAEH,CAL+B,CAK9B,CAAChB,mBAAD,CAAsBK,gBAAtB,CAL8B,CAAhC,CAOA,GAAGI,gBAAgB,CAACc,KAAjB,CAAuB,CAAvB,IAA8B,IAA9B,EAAsCd,gBAAgB,CAACc,KAAjB,CAAuB,CAAvB,IAA8BC,SAAvE,CAAiF,CAC7E,MAAO,KAAP,CACH,CAED,mBACI,KAAC,WAAD,EACI,MAAM,CAAEf,gBAAgB,CAACc,KAAjB,CAAuB,CAAvB,CADZ,CAEI,aAAa,CAAEnB,aAFnB,CAGI,uBAAuB,CAAEU,uBAH7B,EADJ,CAOH,CA/BD,CAiCA,cAAef,CAAAA,sBAAf","sourcesContent":["import React from 'react'\r\nimport useApi from '../../_hooks/useApi'\r\nimport { ILandingpageValues } from '../../_interfaces/ILandingpageValues'\r\nimport LandingPage from './LandingPage'\r\nimport apiConfig from '../../_config/apiConfig.json'\r\nimport useLocalStorage from '../../_hooks/useLocalStorage'\r\nimport { IButtlerConfiguration } from '../../_interfaces/IButtlerConfiguration'\r\nimport { LocalStorageKeyEnum } from '../../_enums/localStorageKeyEnum'\r\n\r\nconst LandingPageDataService: React.FC = () => {\r\n\r\n    const localStorageService = useLocalStorage<IButtlerConfiguration>();\r\n\r\n    const [buttlerConfig, setButtlerConfig] = React.useState<IButtlerConfiguration>(localStorageService.getItem(LocalStorageKeyEnum.buttlerConfiguration))\r\n    \r\n    const valuesUrlPrefix = React.useMemo(() =>{\r\n        return `landingpage_landingpage${buttlerConfig.language?? 'En'}`\r\n    },[buttlerConfig])\r\n\r\n    const valueDataService = useApi<ILandingpageValues>({\r\n        serviceUri: apiConfig.baseUrl + apiConfig.i18nController + valuesUrlPrefix, params: null})\r\n\r\n    const setButtlerConfiguration = React.useCallback((config: IButtlerConfiguration) =>{\r\n        localStorageService.setItem(LocalStorageKeyEnum.buttlerConfiguration, JSON.stringify(config))\r\n        window.location.href = '/'\r\n        setButtlerConfig(config)\r\n        \r\n    },[localStorageService, setButtlerConfig])\r\n\r\n    if(valueDataService.items[0] === null || valueDataService.items[0] === undefined){\r\n        return null\r\n    }\r\n    \r\n    return(\r\n        <LandingPage \r\n            values={valueDataService.items[0]}\r\n            buttlerConfig={buttlerConfig}\r\n            setButtlerConfiguration={setButtlerConfiguration}\r\n            />\r\n    )\r\n}\r\n\r\nexport default LandingPageDataService"]},"metadata":{},"sourceType":"module"}